{% render 'partials/head.liquid' %}

<section class="grid-container">
    {% for plaatje in plaatjes %}
        <img 
            class="sfeerplaatjes plaatjes-index" 
            src="https://fdnd-agency.directus.app/assets/{{ plaatje.foto }}" alt="Sfeerfoto" width="200">
    {% endfor %}
</section>

<section class="stekjes-container">
    {% for stekje in stekjes %}
        <section class="stekjes">
            <a href="/stekjes/{{ stekje.id }}" id="stekje-{{ stekje.id }}">
                <h1>{{ stekje.naam }}</h1>
                <img src="https://fdnd-agency.directus.app/assets/{{ stekje.foto }}" alt="{{ stekje.naam }}" width="200">
            </a>
            
            <form action="/stekjes/{{ stekje.id }}" method="POST">
                <input type="hidden" name="from" value="{{ stekje.id }}">
                <button type="submit" class="like-button" aria-label="Like {{ stekje.naam }}">❤️</button>
            </form>
        </section>
    {% endfor %}
</section>

<script>
    async function likeStekje(stekjeId) {
        const response = await fetch(`/stekjes/${stekjeId}/like`, { method: 'POST' });
        const data = await response.json();
        
        if (data.success) {
            document.getElementById(`likes-${stekjeId}`).textContent = data.nieuweLikes;
        }
    }
</script>

{% render 'partials/foot.liquid' %}